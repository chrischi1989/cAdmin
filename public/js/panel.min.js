$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),bootbox.addLocale("cadmin",{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Bestätigen"}),bootbox.setLocale("cadmin");var $currentUser=null;$.ajax({url:"/admin/user/xhr/current",async:!1,datatype:"json",success:function(t){$currentUser=t}}),$("body").on("click","button.delete",function(t){var a=$(this);t.preventDefault(),bootbox.confirm({message:a.data("message"),callback:function(t){if("button"===a.attr("type"))return!0;var e=a.attr("formaction");e&&a.parents("form").attr("action",e),t&&a.parents("form").submit()},buttons:{confirm:{className:"btn-success"},cancel:{className:"btn-danger"}}})});var $history=[],$backTexts=[],$current=null,$previous=null;$(".navigation nav ul li.active").parents("ul").each(function(t,a){$(a).parent().is("li")&&$backTexts.push($(a).parent().find("span[data-backhtml]").data("backhtml")),console.log($backTexts),$e=$(a).clone(!0),0==t?$current=$e:t>0&&$history.push($e)}),$history.length>0&&($(".navigation nav").find("ul").remove(),$(".navigation nav").append($current),$("#back").html($backTexts[0]).removeClass("empty")),$("body").on("click",".navigation nav ul li",function(t){if($(this).find("ul").length>0){$current=$(this).children("ul");var a=$(this).parent(),e=$(this).find("span[data-backhtml]").data("backhtml");$history.push(a.clone(!0)),$backTexts.push(e),$(".navigation nav").append($current),a.remove(),$history.length>0&&$("#back").html(e).removeClass("empty")}}),$("body").on("click","#back",function(){if(0===$history.length)return!0;$backTexts.shift(),$previous=$history.shift(),$current.remove(),$current=$previous,$(".navigation nav").append($previous),$("#back").html($backTexts[0]),0===$history.length&&$("#back").html('<span class="fas fa-bars fa-fw mr-0"></span> Menü').addClass("empty")}),$(".js-select-all").on("click",function(){$(".card-table").find(":checkbox").prop("checked",$(this).prop("checked")),$(".js-bulk-actions").toggleClass("disabled")}),$("input.js-select-item").on("click",function(){0===$(".card-table").find(".card-body").find(":checkbox:checked").length?($(".js-bulk-actions").addClass("disabled"),$(".js-select-all").prop("checked","")):$(".js-bulk-actions").removeClass("disabled")}),$(function(){$('[data-toggle="tooltip"]').tooltip()});
